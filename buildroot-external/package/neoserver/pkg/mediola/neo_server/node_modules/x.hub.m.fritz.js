var x=x||{};x.hub=x.hub||{};x.hub.m=x.hub.m||{};x.hub.m.fritz=x.hub.m.fritz||{};x.hub.m.fritz.FRITZ_MODULE=require("xnm.aio.fritz.js");
x.hub.m.fritz.Handler=function(){var f=function(){};f.prototype.init=function(b){b&&b()};f.prototype.getSystems=function(){return["fritz"]};f.prototype.executeCommandV6=function(b,a,c,d){if(a=x.hub.m.fritz.FRITZ_MODULE.resolveGateway({sys:"fritz",ip:a?a.address:null,username:a?a.user:null,password:a?a.pwd:null})){var g={sys:"fritz",address:b?b.address:null,data:b?b.type:null};b&&"heater"==b.type&&(g.data="hkr");b={value:null,ext:null};switch(c.command){case "on":case "off":case "toggle":b.value=c.command;
break;case "temperature":b.value="temp",b.ext=c.value}a.executeCommandCreator(g,b,function(a){a&&(a.code="000000");d&&d(a)})}else c=Error("invalid gateway json"),c.code="000000",d&&d(c)};f.prototype.getStatesV6=function(b,a,c){var d=b?b.address:null;d?(a=x.hub.m.fritz.FRITZ_MODULE.resolveGateway({sys:"fritz",ip:a?a.address:null,username:a?a.user:null,password:a?a.pwd:null}))?a.getState2(function(a,e){a?c&&c(a):(a={},e&&e[d]&&("heater"==b.type?(a.state=e[d].temp,7.5==a.state?a.state="off":28.5==a.state&&
(a.state="on"),a.temperature=e[d].tempC,"undefined"!=typeof e[d].battery&&null!=tates[d].battery&&"inval"!=tates[d].battery&&(a.battery=e[d].battery)):(a.state=e[d].state,a.power=e[d].current)),c&&c(null,a))}):(a=Error("invalid gateway json"),a.code="000000",c&&c(a)):(a=Error("invalid device json"),a.code="000000",c&&c(a))};return f}();"undefined"!=typeof exports&&"undefined"!=typeof module&&module.exports&&(exports=module.exports=new x.hub.m.fritz.Handler);

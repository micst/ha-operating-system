var x=x||{};x.hub=x.hub||{};x.hub.m=x.hub.m||{};x.hub.m.hautau=x.hub.m.hautau||{};x.hub.m.hautau.HAUTAU_MODULE=require("xnm.aio.hautau.js");
x.hub.m.hautau.Handler=function(){var h=function(){};h.prototype.init=function(e){e&&e()};h.prototype.getSystems=function(){return["hautau"]};h.prototype.executeCommandV6=function(e,g,c,f){if(g=x.hub.m.hautau.HAUTAU_MODULE.resolveGateway({sys:"hautau",ip:g?g.address:null})){e={sys:"hautau",address:e?e.address:null};var d={value:null,ext:null};switch(c.command){case "open":case "close":case "stop":d.value=c.command;break;case "lock":d.value="lockOn";break;case "unlock":d.value="lockOff";break;case "up":d.value=
"levelUp";break;case "down":d.value="levelDown";break;case "enableKeys":d.value="keyboardOn";break;case "disableKeys":d.value="keyboardOff";break;case "level":d.value="levelTo",d.ext=c.value}g.executeCommandCreator(e,d,function(b){b&&(b.code="000000");f&&f(b)})}else c=Error("invalid gateway json"),c.code="000000",f&&f(c)};h.prototype.getStatesV6=function(e,g,c){var f=e?e.address:null;var d=e?e.subtype:null;f&&d?(g=x.hub.m.hautau.HAUTAU_MODULE.resolveGateway({sys:"hautau",ip:g.address}))?g.getDeviceStates(f,
d,function(b,a){if(b)c&&c(b);else{b={};if(a)switch(d){case "ventra":case "ventra2":"undefined"!=typeof a.Level&&null!=a.Level&&(b.state=a.Level,b.keys=!0,"off"==a.Keyboard&&(b.keys=!1),a.Errors&&"no"!=a.Errors&&(b.error=a.Errors),b.filter=a.FilterPercent,b.change=!1,"yes"==a.FilterChange&&(b.change=!0),b.runtime=a.RuntimeLevel0+","+a.RuntimeLevel1+","+a.RuntimeLevel2+","+a.RuntimeLevel3);105==e.model&&(b.temperature=a.Temperature,b.humidity=a.Humidity);break;case "hscd":if("undefined"!=typeof a.WindowClosed&&
null!=a.WindowClosed){b.state="open";if("yes"==a.WindowClosed||1==a.WindowClosed||"true"==a.WindowClosed)b.state="closed";b.down=!1;if("yes"==a.WindowDown||1==a.WindowDown||"true"==a.WindowDown)b.down=!0;a.Errors&&"no"!=a.Errors&&(b.error=a.Errors)}break;case "hscdi":if("undefined"!=typeof a.WindowClosed&&null!=a.WindowClosed){b.state="open";if("yes"==a.WindowClosed||1==a.WindowClosed||"true"==a.WindowClosed)b.state="closed";b.down=!1;if("yes"==a.WindowDown||1==a.WindowDown||"true"==a.WindowDown)b.down=
!0;b.locked=!1;"on"==a.Lock&&(b.locked=!0);a.Errors&&"no"!=a.Errors&&(b.error=a.Errors);"undefined"!=typeof a.Position&&null!=a.Position&&(b.position=a.Position);"undefined"!=typeof a.Cycles&&null!=a.Cycles&&(b.cycles=a.Cycles)}break;case "multisensor":"undefined"!=typeof a.Temperature&&null!=a.Temperature&&(b.state=parseFloat(a.Temperature),b.humidity=a.Humidity,b.co2=a.CO2);break;default:b.state="partly_open",a.Opened&&(b.state="open"),a.Closed&&(b.state="closed")}c&&c(null,b)}}):(f=Error("invalid gateway json"),
f.code="000000",c&&c(f)):(f=Error("invalid device json"),f.code="000000",c&&c(f))};return h}();"undefined"!=typeof exports&&"undefined"!=typeof module&&module.exports&&(exports=module.exports=new x.hub.m.hautau.Handler);

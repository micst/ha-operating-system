var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(a,b,c){a instanceof String&&(a=String(a));for(var d=a.length,g=0;g<d;g++){var h=a[g];if(b.call(c,h,g,a))return{i:g,v:h}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};$jscomp.getGlobal=function(a){a=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,a];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}return globalThis};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,b,c,d){if(b){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var g=a[d];g in c||(c[g]={});c=c[g]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})}};$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,c){return $jscomp.findInternal(this,a,c).v}},"es6","es3");require("./x.nodeext.js");
var XCXMLNode=function(a,b,c,d){this._name=a;this._attributes=b;this._parent=c;this._value=d;this._children=[];XCXMLNode.prototype.addChild=function(a){this._children.push(a)};XCXMLNode.prototype.getParent=function(){return this._parent};XCXMLNode.prototype.prop=function(a){return"tagName"==a?this._name:null};XCXMLNode.prototype.text=function(){return this._unescapeXml(this._value)};XCXMLNode.prototype.getAttributes=function(){return this._attributes};XCXMLNode.prototype.children=function(){var a=
this._children;a.each=function(c){for(var e=0;e<a.length;e++)c.call(a[e])};return a};XCXMLNode.prototype.attr=function(a,c){null!=c&&(this._attributes[a]=c);return this._attributes[a]};XCXMLNode.prototype.attr2=function(a){var c;if((c=this.attr(a))&&""!=c&&"null"!=c)return c};XCXMLNode.prototype.find=function(a,c){null==c&&(c=[],c.each=function(a){for(var b=0;b<c.length;b++)a.call(c[b])});a=a.trim();a=a.replace(/\\./g,".");var e=a.indexOf(" ",0),b=a.indexOf("[",0),g=a,f=null,d=null;if(-1!=e||-1!=
b)if(-1==b||-1<e&&e<b)f=a.substring(e+1).trim(),g=a.substring(0,e);else if(-1==e||-1<b&&b<e)e=a.indexOf("]",b),-1!=e&&(f=a.substring(e+1).trim(),g=a.substring(0,b),e=a.substring(b+1,e).trim().split("="),2==e.length&&(d={},d.id=e[0].trim(),d.value=e[1].replace(/'/g,"").replace(/"/g,"").trim()));if(null==this._parent){var h=this._name;h&&(e=h.indexOf(":"),0<e&&(h=h.substr(e+1)),h==g&&(e=!0,d&&(e=!1,this.getAttributes()[d.id]==d.value&&(e=!0)),e&&(f?this.find(f,c):c.push(this))))}if(0<this._children.length)for(b=
0;b<this._children.length;b++)h=this._children[b]._name,e=h.indexOf(":"),0<e&&(h=h.substr(e+1)),h==g&&(e=!0,d&&(e=!1,this._children[b].getAttributes()[d.id]==d.value&&(e=!0)),e&&(f?this._children[b].find(f,c):c.push(this._children[b]))),this._children[b].find(a,c);return c};XCXMLNode.prototype.getXMLString=function(){return this._getXMLString(0)};XCXMLNode.prototype._getXMLString=function(a){for(var c="",b=0;b<a;b++)c+="  ";var d=c+"<"+this._name;if(this._attributes)for(var g in this._attributes)d+=
" "+g+'="'+this._attributes[g]+'"';if(0<this._children.length){d+=">\r\n";for(b=0;b<this._children.length;b++)d+=this._children[b]._getXMLString(a+1);d+=c+"</"+this._name+">\r\n"}else d=null!=this._value?d+(">"+this._value+"</"+this._name+">\r\n"):d+"/>\r\n";return d};XCXMLNode.prototype.XML_CHAR_MAP={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&apos;"};XCXMLNode.prototype._escapeXml=function(a){return a.replace(/[<>&"']/g,function(a){return x.xmlrpc.XML_CHAR_MAP[a]})};XCXMLNode.prototype._unescapeXml=
function(a){if(!a)return a;a=a.replace(/&lt;/g,"<");a=a.replace(/&gt;/g,">");a=a.replace(/&amp;/g,"&");a=a.replace(/&quot;/g,'"');return a=a.replace(/&apos;/g,"'")}},XCXMLDocument=function(a,b){this._XMLString=null;a&&(this._XMLString=a.trim());this._rootNode=null;this._XMLHead='<?xml version="1.0" encoding="UTF-8" ?>';a=-1;null!=this._XMLString&&5<this._XMLString.length&&("<?xml"==this._XMLString.substring(0,5)&&(a=this._XMLString.indexOf(">",0),this._XMLHead=this._XMLString.substring(0,a+1)),a=
this._XMLString.indexOf("<",a));if(-1<a){var c=null;try{require("sax")&&(c=require("sax"))}catch(h){c=null}if(b||null==c)this._rootNode=this._parseNode(a,[],null);else{b=c.parser(!0);var d=null,g=this;b.ontext=function(a){d&&(d._value=a)};b.onopentag=function(a){a=new XCXMLNode(a.name,a.attributes,d,null);d&&d._children.push(a);d=a;g._rootNode||(g._rootNode=d)};b.onclosetag=function(a){d&&(d=d._parent)};b.write(this._XMLString.substr(a)).close()}}else this._rootNode=new XCXMLNode;this._XMLString=
null};XCXMLDocument.prototype.getRootNode=function(){return this._rootNode};XCXMLDocument.prototype.getXMLString=function(){var a=this._XMLHead+"\r\n";this._rootNode&&(a+=this._rootNode.getXMLString());return a};XCXMLDocument.prototype.find=function(a,b){return this._rootNode.find(a,b)};XCXMLDocument.prototype.attr=function(a,b){return this._rootNode.attr(a,b)};XCXMLDocument.prototype.children=function(){return[this._rootNode]};
XCXMLDocument.prototype._parseAttributes=function(a,b){var c=this._XMLString.indexOf("=",a),d=this._XMLString.indexOf(">",a);if(-1<c&&c<d){a=this._XMLString.substring(a+1,c).trim();d='"';var g=this._XMLString.indexOf('"',c);-1==g&&(d="'",g=this._XMLString.indexOf("'",c));c=g;if(-1<c&&(d=this._XMLString.indexOf(d,c+1),-1<d))return c=this._XMLString.substring(c+1,d),b[a]=c,d+1}return-1};
XCXMLDocument.prototype._parseNode=function(a,b,c){for(var d=null,g=!0;g;){g=!1;var h=null,e=b.length;if(!this._XMLString)return null;var k=this._XMLString.indexOf(" ",a),l=this._XMLString.indexOf(">",a),f=null,r=null,p={};if(-1<k&&k<l){if(f=this._XMLString.substring(a+1,k),"!--"!=f){for(l=this._parseAttributes(k,p);-1!=l;)k=l,l=this._parseAttributes(k,p);k=this._XMLString.indexOf(">",k)}}else-1<l&&(k=l,f=this._XMLString.substring(a+1,l));l=this._XMLString.indexOf("<",k);-1<k&&-1<l&&l>k+1&&(l=this._XMLString.substring(k+
1,l).trim(),0<l.length&&">"!=l[0]&&(r=l));k=this._XMLString.indexOf(">",k);if(-1!=k){if(null!=f)if("/"!=this._XMLString.charAt(k-1)&&"/"!=f.charAt(0)&&b.push(f),"/"==f.charAt(0)){if(f=f.substring(1),a=b.pop(),!(f==a||f&&a&&f.trim()==a.trim()))return console.log("INVALID XML ("+f+"<->"+a+")!!!"),null}else f=f.replace("/",""),h=new XCXMLNode(f,p,c,r),d||(d=h),null!=c&&c.addChild(h);a=this._XMLString.indexOf("<",k);-1<a&&(b.length<e?this._parseNode(a,b,c.getParent()):b.length==e?this._parseNode(a,b,
c):(c=h,g=!0))}}return d};var XCLogWriter=function(){};XCLogWriter.prototype.writeConsole=function(a){console.log(a)};XCLogWriter.prototype.writeFile=function(a,b,c){var d=this,g=require("fs");g.exists(b,function(h){h?g.stat(b,function(e,k){!e&&k&&(k.size/1024>=c?d._copyFile(b,b+".1",function(){g.writeFile(b,a+"\n",function(a){})}):g.appendFile(b,a+"\n",function(a){}))}):g.writeFile(b,a+"\n",function(a){})})};
XCLogWriter.prototype._copyFile=function(a,b,c){require("child_process").execFile("/bin/cp",["--no-target-directory",a,b],function(a){c&&c(a)})};XC=new function(){};XC.debugf=function(a){var b=null;try{var c=require("x.logger.js");c&&(b=c.getLogger("x.core.debugf"),b.log("trace",a))}catch(d){b=null}b||console.log(a)};XC.getHexVal=function(a,b){for(a=a.toString(16).toUpperCase();a.length<b;)a="0"+a;return a};
XC.getBytes=function(a,b){var c=[],d=a.length;if(b)for(b=0;b<d;b+=2)c.push(parseInt(a.substr(b,2),16));else for(b=0;b<d;b++)c.push(a.charCodeAt(b));return c};XC.createObject=function(a){switch(a){case "x.logger.writer":return new XCLogWriter}return null};
dateFormat=function(a){function b(a,b){a=String(a);for(b=b||2;a.length<b;)a="0"+a;return a}function c(a){a=new Date(a.getFullYear(),a.getMonth(),a.getDate());a.setDate(a.getDate()-(a.getDay()+6)%7+3);var b=new Date(a.getFullYear(),0,4);b.setDate(b.getDate()-(b.getDay()+6)%7+3);var c=a.getTimezoneOffset()-b.getTimezoneOffset();a.setHours(a.getHours()-c);return 1+Math.floor((a-b)/6048E5)}function d(a){a=a.getDay();0===a&&(a=7);return a}function g(a){return null===a?"null":void 0===a?"undefined":"object"!==
typeof a?typeof a:Array.isArray(a)?"array":{}.toString.call(a).slice(8,-1).toLowerCase()}var h=function(){var a=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZWN]|'[^']*'|'[^']*'/g,k=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,l=/[^-+\dA-Z]/g;return function(f,e,p,v){1!==arguments.length||"string"!==g(f)||/\d/.test(f)||(e=f,f=void 0);f=f||new Date;f instanceof Date||(f=new Date(f));if(isNaN(f))throw TypeError("Invalid date");
e=String(h.masks[e]||e||h.masks["default"]);var n=e.slice(0,4);if("UTC:"===n||"GMT:"===n)e=e.slice(4),p=!0,"GMT:"===n&&(v=!0);var m=p?"getUTC":"get";n=f[m+"Date"]();var r=f[m+"Day"](),t=f[m+"Month"](),w=f[m+"FullYear"](),q=f[m+"Hours"](),y=f[m+"Minutes"](),z=f[m+"Seconds"]();m=f[m+"Milliseconds"]();var u=p?0:f.getTimezoneOffset(),B=c(f),C=d(f),A={d:n,dd:b(n),ddd:h.i18n.dayNames[r],dddd:h.i18n.dayNames[r+7],m:t+1,mm:b(t+1),mmm:h.i18n.monthNames[t],mmmm:h.i18n.monthNames[t+12],yy:String(w).slice(2),
yyyy:w,h:q%12||12,hh:b(q%12||12),H:q,HH:b(q),M:y,MM:b(y),s:z,ss:b(z),l:b(m,3),L:b(Math.round(m/10)),t:12>q?"a":"p",tt:12>q?"am":"pm",T:12>q?"A":"P",TT:12>q?"AM":"PM",Z:v?"GMT":p?"UTC":(String(f).match(k)||[""]).pop().replace(l,""),o:(0<u?"-":"+")+b(100*Math.floor(Math.abs(u)/60)+Math.abs(u)%60,4),S:["th","st","nd","rd"][3<n%10?0:(10!=n%100-n%10)*n%10],W:B,N:C};return e.replace(a,function(a){return a in A?A[a]:a.slice(1,a.length-1)})}}();h.masks={"default":"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",
mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"};h.i18n={dayNames:"Sun Mon Tue Wed Thu Fri Sat Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),monthNames:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec January February March April May June July August September October November December".split(" ")};
return h}(this);"undefined"==typeof window&&(window={XCHost:{}},window.XCHost.getType=function(){return"node-webkit"},window.XCHost.getVersion=function(){return"1.0"},window.XC_Text={});$=function(a){return a};$.parseXML=function(a){if("string"!==typeof a||!a)return new XCXMLDocument;var b=null;try{b=new XCXMLDocument(a)}catch(c){b=new XCXMLDocument,XC.debugf("failed to parse XML")}return b};$.parseJSON=function(a){try{return JSON.parse(a)}catch(b){}return null};
$.ajax=function(a){var b=require("url").parse(a.url),c={host:b.hostname,port:b.port,path:b.path,method:"GET"},d="string";a.dataType&&(d=a.dataType);a.method&&(c.method=a.method);a.type&&(c.method=a.type);a.headers&&(c.headers=a.headers);if(a.username||a.password)c.auth=(a.username?a.username:"")+":"+(a.password?a.password:"");if(a.data)if("object"==typeof a.data){c.headers||(c.headers={});var g=require("querystring").stringify(a.data,null,null,{encodeURIComponent:encodeURI});c.headers["Content-Type"]=
"application/x-www-form-urlencoded";"POST"==c.method||"PUT"==c.method?c.headers["Content-Length"]=g.length:"GET"==c.method&&(c.path=c.path+"?"+g)}else"string"==typeof a.data&&(c.headers||(c.headers={}),"POST"==c.method||"PUT"==c.method)&&(c.headers["Content-Length"]=Buffer.byteLength(a.data,"utf8"));a.contentType&&(c.headers||(c.headers={}),c.headers["Content-Type"]=a.contentType);a.complete&&(a.error=a.complete);var h=require("http");"https:"==b.protocol&&(h=require("https"),process&&process.env&&
(process.env.NODE_TLS_REJECT_UNAUTHORIZED="0"),c.port||(c.port=443));var e=h.request(c,function(b){if(a.statusCode&&a.statusCode[b.statusCode])a.statusCode[b.statusCode]();var c="";b.on("data",function(a){c+=a});b.on("end",function(){var e={getAllResponseHeaders:function(){return b.headers},getResponseHeader:function(a){return b.headers[a]}};if(200==b.statusCode)if(a.complete)a.complete({responseText:c});else{if(a.success){if("json"==d)try{c=JSON.parse(c)}catch(r){a.error&&a.error({status:b.statusCode,
responseText:c},"error","json parse error");a.error=void 0;return}a.success(c,"200",e)}}else a.error&&a.error({status:b.statusCode,responseText:c},"error",c),a.error=void 0})});e.on("error",function(b){a.error&&a.error(null,b.message);a.error=void 0});a.timeout&&e.setTimeout(a.timeout,function(){e.abort();a.error&&a.error(null,"timeout");a.error=void 0});a.data&&"get"!=c.method.toLowerCase()&&"delete"!=c.method.toLowerCase()&&("string"==typeof a.data||a.data instanceof Buffer?e.write(a.data):"object"==
typeof a.data?g&&e.write(g):e.write(a.data));e.end()};$.trim=function(a){return a.trim()};
